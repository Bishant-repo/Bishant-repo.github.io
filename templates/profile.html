{% extends 'base.html' %}
{% block title %}Profile | GreenTrack{% endblock %}
{% block content %}
<div class="d-flex justify-content-center align-items-center" style="min-height: 80vh;">
  <div class="glass-card" style="max-width: 500px; width: 100%;">
    <h2 class="mb-4 text-center" style="color: var(--primary); font-family: 'Poppins', sans-serif;">
      <i class="fa fa-user-circle me-2"></i>Profile & Settings
    </h2>
    {% if message %}
      <div class="alert-eco text-center">{{ message }}</div>
    {% endif %}
    <form method="POST">
      <div class="form-floating mb-3">
        <input type="text" class="form-control" id="name" name="name" value="{{ user.name }}" placeholder="Full Name" required>
        <label for="name">Full Name</label>
      </div>
      <div class="form-floating mb-3">
        <input type="email" class="form-control" id="email" name="email" value="{{ user.email }}" placeholder="Email" required>
        <label for="email">Email address</label>
      </div>
      <div class="form-floating mb-3">
        <input type="password" class="form-control" id="password" name="password" placeholder="New Password">
        <label for="password">New Password (leave blank to keep current)</label>
      </div>
      <div class="mb-3">
        <label class="form-label">Preferences</label>
        <div class="form-check form-switch">
          <input class="form-check-input" type="checkbox" id="reminders" name="reminders" {% if preferences.reminders %}checked{% endif %} disabled>
          <label class="form-check-label" for="reminders">Reminders (coming soon)</label>
        </div>
        <div class="form-check form-switch">
          <input class="form-check-input" type="checkbox" id="streak_alerts" name="streak_alerts" {% if preferences.streak_alerts %}checked{% endif %} disabled>
          <label class="form-check-label" for="streak_alerts">Streak Alerts (coming soon)</label>
        </div>
      </div>
      <button type="submit" class="btn btn-eco w-100 mb-3">Save Changes</button>
    </form>
    <hr>
    <div class="mb-3 text-center">
      <h5 class="mb-2">Achievements & Badges</h5>
      {% if badges %}
        {% for badge in badges %}
          <span class="badge bg-success me-2 mb-2" style="font-size: 1.1rem;">
            <i class="fa {{ badge.icon }} me-1"></i>{{ badge.label }}
          </span>
        {% endfor %}
      {% else %}
        <span class="text-muted">No badges earned yet. Keep building your streak!</span>
      {% endif %}
    </div>
    <div class="text-center mt-4">
      <span class="small text-muted">Want dark mode? <span class="fw-bold">Coming soon!</span></span>
    </div>
  </div>
</div>
{% endblock %} 